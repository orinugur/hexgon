//html을통한시뮬레이터 2d중력 시뮬레이터를 제작
//회전 하는는 빈 육각형 도형이 있고 이객체는 다른 물체에 물리적인 충돌은 가능하나 다른객체의영향을안받고 중앙에서 회전만함
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>2D 중력 시뮬레이터 - 회전 육각형</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
  <style>
    canvas { background: #222; }
  </style>
</head>
<body>
<canvas id="world"></canvas>
<script>
const { Engine, Render, Runner, Bodies, World, Body, Events } = Matter;

// 엔진 및 렌더러 생성
const engine = Engine.create();
const world = engine.world;

const width = 800, height = 600;
const render = Render.create({
  element: document.body,
  engine: engine,
  canvas: document.getElementById('world'),
  options: {
    width, height, wireframes: false, background: '#222'
  }
});

// 중앙 회전 육각형 생성
const centerX = width / 2, centerY = height / 2;
const hexagon = Bodies.polygon(centerX, centerY, 6, 80, {
  isStatic: true, // 위치 고정
  render: { fillStyle: '#00eaff' }
});
World.add(world, hexagon);

// 각속도(회전 속도) 설정
const angularVelocity = 0.05; // 라디안/프레임

// 매 프레임마다 육각형 회전
Events.on(engine, 'beforeUpdate', () => {
  Body.setAngle(hexagon, hexagon.angle + angularVelocity);
});

// 바닥 및 벽 생성
World.add(world, [
  Bodies.rectangle(width/2, height-10, width, 20, { isStatic: true }),
  Bodies.rectangle(10, height/2, 20, height, { isStatic: true }),
  Bodies.rectangle(width-10, height/2, 20, height, { isStatic: true })
]);

// 중력 적용 받는 공 추가
for (let i = 0; i < 10; i++) {
  World.add(world, Bodies.circle(100 + i*60, 100, 20, {
    restitution: 0.8, // 튕김
    render: { fillStyle: '#ffb300' }
  }));
}

Render.run(render);
Runner.run(engine);
</script>
</body>
</html>